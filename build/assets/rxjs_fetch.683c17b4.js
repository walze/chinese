import{j as d,O as m,k as v,h as p,c as g}from"./chunk-qtrcr55j.af8cc221.js";function E(u,e){e===void 0&&(e={});var f=e.selector,i=d(e,["selector"]);return new m(function(r){var a=new AbortController,l=a.signal,t=!0,n=i.signal;if(n)if(n.aborted)a.abort();else{var c=function(){l.aborted||a.abort()};n.addEventListener("abort",c),r.add(function(){return n.removeEventListener("abort",c)})}var b=v(v({},i),{signal:l}),s=function(o){t=!1,r.error(o)};return fetch(u,b).then(function(o){f?p(f(o)).subscribe(g(r,void 0,function(){t=!1,r.complete()},s)):(t=!1,r.next(o),r.complete())}).catch(s),function(){t&&a.abort()}})}export{E as f};
