import{_ as l,S as h,c as v,a as p,e as C,E as z,b as N,O as d,d as A,f as I,g as X,n as G,i as Q,h as H}from"./chunk-qtrcr55j.af8cc221.js";function Y(i){return Q(i?.lift)}function S(i){return function(r){if(Y(r))return r.lift(function(t){try{return i(t,this)}catch(e){this.error(e)}});throw new TypeError("Unable to lift unknown Observable type")}}function J(){return S(function(i,r){var t=null;i._refCount++;var e=v(r,void 0,void 0,void 0,function(){if(!i||i._refCount<=0||0<--i._refCount){t=null;return}var n=i._connection,o=t;t=null,n&&(!o||n===o)&&n.unsubscribe(),r.unsubscribe()});i.subscribe(e),e.closed||(t=i.connect())})}(function(i){l(r,i);function r(t,e){var n=i.call(this)||this;return n.source=t,n.subjectFactory=e,n._subject=null,n._refCount=0,n._connection=null,Y(t)&&(n.lift=t.lift),n}return r.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},r.prototype.getSubject=function(){var t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject},r.prototype._teardown=function(){this._refCount=0;var t=this._connection;this._subject=this._connection=null,t?.unsubscribe()},r.prototype.connect=function(){var t=this,e=this._connection;if(!e){e=this._connection=new h;var n=this.getSubject();e.add(this.source.subscribe(v(n,void 0,function(){t._teardown(),n.complete()},function(o){t._teardown(),n.error(o)},function(){return t._teardown()}))),e.closed&&(this._connection=null,e=h.EMPTY)}return e},r.prototype.refCount=function(){return J()(this)},r})(d);var L={now:function(){return(L.delegate||performance).now()},delegate:void 0},_={schedule:function(i){var r=requestAnimationFrame,t=cancelAnimationFrame,e=r(function(n){t=void 0,i(n)});return new h(function(){return t?.(e)})},requestAnimationFrame:function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];var t=_.delegate;return(t?.requestAnimationFrame||requestAnimationFrame).apply(void 0,A([],I(i)))},cancelAnimationFrame:function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return cancelAnimationFrame.apply(void 0,A([],I(i)))},delegate:void 0};function Z(i){return new d(function(r){var t=i||L,e=t.now(),n=0,o=function(){r.closed||(n=_.requestAnimationFrame(function(s){n=0;var u=t.now();r.next({timestamp:i?u:s,elapsed:u-e}),o()}))};return o(),function(){n&&_.cancelAnimationFrame(n)}})}Z();var $=p(function(i){return function(){i(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),x=function(i){l(r,i);function r(){var t=i.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return r.prototype.lift=function(t){var e=new W(this,this);return e.operator=t,e},r.prototype._throwIfClosed=function(){if(this.closed)throw new $},r.prototype.next=function(t){var e=this;C(function(){var n,o;if(e._throwIfClosed(),!e.isStopped){e.currentObservers||(e.currentObservers=Array.from(e.observers));try{for(var s=X(e.currentObservers),u=s.next();!u.done;u=s.next()){var c=u.value;c.next(t)}}catch(a){n={error:a}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}}})},r.prototype.error=function(t){var e=this;C(function(){if(e._throwIfClosed(),!e.isStopped){e.hasError=e.isStopped=!0,e.thrownError=t;for(var n=e.observers;n.length;)n.shift().error(t)}})},r.prototype.complete=function(){var t=this;C(function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var e=t.observers;e.length;)e.shift().complete()}})},r.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(r.prototype,"observed",{get:function(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0},enumerable:!1,configurable:!0}),r.prototype._trySubscribe=function(t){return this._throwIfClosed(),i.prototype._trySubscribe.call(this,t)},r.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},r.prototype._innerSubscribe=function(t){var e=this,n=this,o=n.hasError,s=n.isStopped,u=n.observers;return o||s?z:(this.currentObservers=null,u.push(t),new h(function(){e.currentObservers=null,N(u,t)}))},r.prototype._checkFinalizedStatuses=function(t){var e=this,n=e.hasError,o=e.thrownError,s=e.isStopped;n?t.error(o):s&&t.complete()},r.prototype.asObservable=function(){var t=new d;return t.source=this,t},r.create=function(t,e){return new W(t,e)},r}(d),W=function(i){l(r,i);function r(t,e){var n=i.call(this)||this;return n.destination=t,n.source=e,n}return r.prototype.next=function(t){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.next)===null||n===void 0||n.call(e,t)},r.prototype.error=function(t){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.error)===null||n===void 0||n.call(e,t)},r.prototype.complete=function(){var t,e;(e=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||e===void 0||e.call(t)},r.prototype._subscribe=function(t){var e,n;return(n=(e=this.source)===null||e===void 0?void 0:e.subscribe(t))!==null&&n!==void 0?n:z},r}(x),yt=function(i){l(r,i);function r(t){var e=i.call(this)||this;return e._value=t,e}return Object.defineProperty(r.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),r.prototype._subscribe=function(t){var e=i.prototype._subscribe.call(this,t);return!e.closed&&t.next(this._value),e},r.prototype.getValue=function(){var t=this,e=t.hasError,n=t.thrownError,o=t._value;if(e)throw n;return this._throwIfClosed(),o},r.prototype.next=function(t){i.prototype.next.call(this,this._value=t)},r}(x),j={now:function(){return(j.delegate||Date).now()},delegate:void 0};(function(i){l(r,i);function r(t,e,n){t===void 0&&(t=1/0),e===void 0&&(e=1/0),n===void 0&&(n=j);var o=i.call(this)||this;return o._bufferSize=t,o._windowTime=e,o._timestampProvider=n,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=e===1/0,o._bufferSize=Math.max(1,t),o._windowTime=Math.max(1,e),o}return r.prototype.next=function(t){var e=this,n=e.isStopped,o=e._buffer,s=e._infiniteTimeWindow,u=e._timestampProvider,c=e._windowTime;n||(o.push(t),!s&&o.push(u.now()+c)),this._trimBuffer(),i.prototype.next.call(this,t)},r.prototype._subscribe=function(t){this._throwIfClosed(),this._trimBuffer();for(var e=this._innerSubscribe(t),n=this,o=n._infiniteTimeWindow,s=n._buffer,u=s.slice(),c=0;c<u.length&&!t.closed;c+=o?1:2)t.next(u[c]);return this._checkFinalizedStatuses(t),e},r.prototype._trimBuffer=function(){var t=this,e=t._bufferSize,n=t._timestampProvider,o=t._buffer,s=t._infiniteTimeWindow,u=(s?1:2)*e;if(e<1/0&&u<o.length&&o.splice(0,o.length-u),!s){for(var c=n.now(),a=0,f=1;f<o.length&&o[f]<=c;f+=2)a=f;a&&o.splice(0,a+1)}},r})(x);(function(i){l(r,i);function r(){var t=i!==null&&i.apply(this,arguments)||this;return t._value=null,t._hasValue=!1,t._isComplete=!1,t}return r.prototype._checkFinalizedStatuses=function(t){var e=this,n=e.hasError,o=e._hasValue,s=e._value,u=e.thrownError,c=e.isStopped,a=e._isComplete;n?t.error(u):(c||a)&&(o&&t.next(s),t.complete())},r.prototype.next=function(t){this.isStopped||(this._value=t,this._hasValue=!0)},r.prototype.complete=function(){var t=this,e=t._hasValue,n=t._value,o=t._isComplete;o||(this._isComplete=!0,e&&i.prototype.next.call(this,n),i.prototype.complete.call(this))},r})(x);var K=function(i){l(r,i);function r(t,e){return i.call(this)||this}return r.prototype.schedule=function(t,e){return this},r}(h),R={setInterval:function(i,r){for(var t=[],e=2;e<arguments.length;e++)t[e-2]=arguments[e];return setInterval.apply(void 0,A([i,r],I(t)))},clearInterval:function(i){return clearInterval(i)},delegate:void 0},b=function(i){l(r,i);function r(t,e){var n=i.call(this,t,e)||this;return n.scheduler=t,n.work=e,n.pending=!1,n}return r.prototype.schedule=function(t,e){var n;if(e===void 0&&(e=0),this.closed)return this;this.state=t;var o=this.id,s=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(s,o,e)),this.pending=!0,this.delay=e,this.id=(n=this.id)!==null&&n!==void 0?n:this.requestAsyncId(s,this.id,e),this},r.prototype.requestAsyncId=function(t,e,n){return n===void 0&&(n=0),R.setInterval(t.flush.bind(t,this),n)},r.prototype.recycleAsyncId=function(t,e,n){if(n===void 0&&(n=0),n!=null&&this.delay===n&&this.pending===!1)return e;e!=null&&R.clearInterval(e)},r.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},r.prototype._execute=function(t,e){var n=!1,o;try{this.work(t)}catch(s){n=!0,o=s||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),o},r.prototype.unsubscribe=function(){if(!this.closed){var t=this,e=t.id,n=t.scheduler,o=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,N(o,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,i.prototype.unsubscribe.call(this)}},r}(K),tt=1,F,O={};function M(i){return i in O?(delete O[i],!0):!1}var D={setImmediate:function(i){var r=tt++;return O[r]=!0,F||(F=Promise.resolve()),F.then(function(){return M(r)&&i()}),r},clearImmediate:function(i){M(i)}},et=D.setImmediate,nt=D.clearImmediate,T={setImmediate:function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];var t=T.delegate;return(t?.setImmediate||et).apply(void 0,A([],I(i)))},clearImmediate:function(i){return nt(i)},delegate:void 0},rt=function(i){l(r,i);function r(t,e){var n=i.call(this,t,e)||this;return n.scheduler=t,n.work=e,n}return r.prototype.requestAsyncId=function(t,e,n){return n===void 0&&(n=0),n!==null&&n>0?i.prototype.requestAsyncId.call(this,t,e,n):(t.actions.push(this),t._scheduled||(t._scheduled=T.setImmediate(t.flush.bind(t,void 0))))},r.prototype.recycleAsyncId=function(t,e,n){var o;if(n===void 0&&(n=0),n!=null?n>0:this.delay>0)return i.prototype.recycleAsyncId.call(this,t,e,n);var s=t.actions;e!=null&&((o=s[s.length-1])===null||o===void 0?void 0:o.id)!==e&&(T.clearImmediate(e),t._scheduled=void 0)},r}(b),B=function(){function i(r,t){t===void 0&&(t=i.now),this.schedulerActionCtor=r,this.now=t}return i.prototype.schedule=function(r,t,e){return t===void 0&&(t=0),new this.schedulerActionCtor(this,r).schedule(e,t)},i.now=j.now,i}(),w=function(i){l(r,i);function r(t,e){e===void 0&&(e=B.now);var n=i.call(this,t,e)||this;return n.actions=[],n._active=!1,n}return r.prototype.flush=function(t){var e=this.actions;if(this._active){e.push(t);return}var n;this._active=!0;do if(n=t.execute(t.state,t.delay))break;while(t=e.shift());if(this._active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}},r}(B),it=function(i){l(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.flush=function(t){this._active=!0;var e=this._scheduled;this._scheduled=void 0;var n=this.actions,o;t=t||n.shift();do if(o=t.execute(t.state,t.delay))break;while((t=n[0])&&t.id===e&&n.shift());if(this._active=!1,o){for(;(t=n[0])&&t.id===e&&n.shift();)t.unsubscribe();throw o}},r}(w);new it(rt);var ot=new w(b),st=function(i){l(r,i);function r(t,e){var n=i.call(this,t,e)||this;return n.scheduler=t,n.work=e,n}return r.prototype.schedule=function(t,e){return e===void 0&&(e=0),e>0?i.prototype.schedule.call(this,t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)},r.prototype.execute=function(t,e){return e>0||this.closed?i.prototype.execute.call(this,t,e):this._execute(t,e)},r.prototype.requestAsyncId=function(t,e,n){return n===void 0&&(n=0),n!=null&&n>0||n==null&&this.delay>0?i.prototype.requestAsyncId.call(this,t,e,n):(t.flush(this),0)},r}(b),ut=function(i){l(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r}(w);new ut(st);var at=function(i){l(r,i);function r(t,e){var n=i.call(this,t,e)||this;return n.scheduler=t,n.work=e,n}return r.prototype.requestAsyncId=function(t,e,n){return n===void 0&&(n=0),n!==null&&n>0?i.prototype.requestAsyncId.call(this,t,e,n):(t.actions.push(this),t._scheduled||(t._scheduled=_.requestAnimationFrame(function(){return t.flush(void 0)})))},r.prototype.recycleAsyncId=function(t,e,n){var o;if(n===void 0&&(n=0),n!=null?n>0:this.delay>0)return i.prototype.recycleAsyncId.call(this,t,e,n);var s=t.actions;e!=null&&((o=s[s.length-1])===null||o===void 0?void 0:o.id)!==e&&(_.cancelAnimationFrame(e),t._scheduled=void 0)},r}(b),ct=function(i){l(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.flush=function(t){this._active=!0;var e=this._scheduled;this._scheduled=void 0;var n=this.actions,o;t=t||n.shift();do if(o=t.execute(t.state,t.delay))break;while((t=n[0])&&t.id===e&&n.shift());if(this._active=!1,o){for(;(t=n[0])&&t.id===e&&n.shift();)t.unsubscribe();throw o}},r}(w);new ct(at);(function(i){l(r,i);function r(t,e){t===void 0&&(t=lt),e===void 0&&(e=1/0);var n=i.call(this,t,function(){return n.frame})||this;return n.maxFrames=e,n.frame=0,n.index=-1,n}return r.prototype.flush=function(){for(var t=this,e=t.actions,n=t.maxFrames,o,s;(s=e[0])&&s.delay<=n&&(e.shift(),this.frame=s.delay,!(o=s.execute(s.state,s.delay))););if(o){for(;s=e.shift();)s.unsubscribe();throw o}},r.frameTimeFactor=10,r})(w);var lt=function(i){l(r,i);function r(t,e,n){n===void 0&&(n=t.index+=1);var o=i.call(this,t,e)||this;return o.scheduler=t,o.work=e,o.index=n,o.active=!0,o.index=t.index=n,o}return r.prototype.schedule=function(t,e){if(e===void 0&&(e=0),Number.isFinite(e)){if(!this.id)return i.prototype.schedule.call(this,t,e);this.active=!1;var n=new r(this.scheduler,this.work);return this.add(n),n.schedule(t,e)}else return h.EMPTY},r.prototype.requestAsyncId=function(t,e,n){n===void 0&&(n=0),this.delay=t.frame+n;var o=t.actions;return o.push(this),o.sort(r.sortActions),1},r.prototype.recycleAsyncId=function(t,e,n){},r.prototype._execute=function(t,e){if(this.active===!0)return i.prototype._execute.call(this,t,e)},r.sortActions=function(t,e){return t.delay===e.delay?t.index===e.index?0:t.index>e.index?1:-1:t.delay>e.delay?1:-1},r}(b);new d(function(i){return i.complete()});function ft(i,r,t,e,n){e===void 0&&(e=0),n===void 0&&(n=!1);var o=r.schedule(function(){t(),n?i.add(this.schedule(null,e)):this.unsubscribe()},e);if(i.add(o),!n)return o}var U;(function(i){i.NEXT="N",i.ERROR="E",i.COMPLETE="C"})(U||(U={}));var ht=p(function(i){return function(){i(this),this.name="EmptyError",this.message="no elements in sequence"}});function _t(i,r){var t=typeof r=="object";return new Promise(function(e,n){var o=!1,s;i.subscribe({next:function(u){s=u,o=!0},error:n,complete:function(){o?e(s):t?e(r.defaultValue):n(new ht)}})})}p(function(i){return function(){i(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}});p(function(i){return function(t){i(this),this.name="NotFoundError",this.message=t}});p(function(i){return function(t){i(this),this.name="SequenceError",this.message=t}});p(function(i){return function(t){t===void 0&&(t=null),i(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}});function vt(i,r){return S(function(t,e){var n=0;t.subscribe(v(e,function(o){e.next(i.call(r,o,n++))}))})}function dt(i,r,t,e,n,o,s,u){var c=[],a=0,f=0,q=!1,P=function(){q&&!c.length&&!a&&r.complete()},k=function(m){return a<e?E(m):c.push(m)},E=function(m){o&&r.next(m),a++;var V=!1;H(t(m,f++)).subscribe(v(r,function(y){n?.(y),o?k(y):r.next(y)},function(){V=!0},void 0,function(){if(V)try{a--;for(var y=function(){var g=c.shift();s?ft(r,s,function(){return E(g)}):E(g)};c.length&&a<e;)y();P()}catch(g){r.error(g)}}))};return i.subscribe(v(r,k,function(){q=!0,P()})),function(){u?.()}}function pt(i,r,t){return t===void 0&&(t=1/0),Q(r)?pt(function(e,n){return vt(function(o,s){return r(e,o,n,s)})(H(i(e,n)))},t):(typeof r=="number"&&(t=r),S(function(e,n){return dt(e,n,i,t)}))}new d(G);function bt(i,r){return r===void 0&&(r=ot),S(function(t,e){var n=null,o=null,s=null,u=function(){if(n){n.unsubscribe(),n=null;var a=o;o=null,e.next(a)}};function c(){var a=s+i,f=r.now();if(f<a){n=this.schedule(void 0,a-f),e.add(n);return}u()}t.subscribe(v(e,function(a){o=a,s=r.now(),n||(n=r.schedule(c,i),e.add(n))},function(){u(),e.complete()},void 0,function(){o=n=null}))})}export{yt as B,bt as d,_t as l,pt as m};
